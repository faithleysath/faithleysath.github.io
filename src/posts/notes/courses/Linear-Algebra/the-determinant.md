# 如何定义行列式？从逆序数到行列式的行展开！

> 本文记录于考研期间，笔者先阅读了居余马的《线性代数（第二版）》，其采用的是行列式的行展开定义法，也就是递归法。因为这种定义法最为快速，只是当证明一些性质时会比较麻烦，比如行列交换相等。笔者依稀记得当初学习时有逆序的概念，遂查询了丘维声的《简明线性代数（第二版）》，其采用的是逆序数的定义法，比较容易理解行列式的本质，证明相关性质也比较容易。本文将两种定义法进行对比，帮助读者理解行列式的本质。

> 补充：此外，行列式还存在第三种定义法，叫公理化定义法，由于其一般出现在高阶教材中，本文不做介绍。

## 从解多元一次方程组说起

考虑一个二元一次方程组：
$$
\begin{cases}
a_{11} x_{1}+a_{12} x_{2}=b_{1} \\
a_{21} x_{1}+a_{22} x_{2}=b_{2}
\end{cases}
$$
我们可以采用消元法来解这个方程组，先消去$x_2$，可以给第一个方程乘以$a_{22}$，给第二个方程乘以$a_{12}$，然后将两个方程相减，得到：
$$
\left(a_{11} a_{22}-a_{21} a_{12}\right) x_{1}=b_{1} a_{22}-b_{2} a_{12}
$$
如果$a_{11} a_{22}-a_{21} a_{12} \neq 0$，则可以解出$x_1$：
$$
x_{1}=\frac{b_{1} a_{22}-b_{2} a_{12}}{a_{11} a_{22}-a_{21} a_{12}}
$$
观察方程组可以发现，$x_1$与$x_2$的地位一致，根据对称性，可以直接写出$x_2$的解：
$$
x_{2}=\frac{a_{11} b_{2}-a_{21} b_{1}}{a_{11} a_{22}-a_{21} a_{12}}
$$

如果记$D=\begin{vmatrix} a & b \\ c & d \end{vmatrix}=a d-b c$，则上面的解可以写成：
$$
x_{1}=\frac{\begin{vmatrix} b_{1} & a_{12} \\ b_{2} & a_{22} \end{vmatrix}}{\begin{vmatrix} a_{11} & a_{12} \\ a_{21} & a_{22} \end{vmatrix}}, \quad x_{2}=\frac{\begin{vmatrix} a_{11} & b_{1} \\ a_{21} & b_{2} \end{vmatrix}}{\begin{vmatrix} a_{11} & a_{12} \\ a_{21} & a_{22} \end{vmatrix}}
$$
这里的$D$就是一个二阶行列式。我们猜想可以将上面的结果推广到$n$元一次方程组：
$$
\left\{
\begin{array}{c}  % "c" 表示列居中对齐，1列对应所有方程行
a_{11} x_{1} + a_{12} x_{2} + \cdots + a_{1n} x_{n} = b_{1} \\
a_{21} x_{1} + a_{22} x_{2} + \cdots + a_{2n} x_{n} = b_{2} \\
\vdots \\  % 此处 \vdots 会自动与上下行垂直居中
a_{n1} x_{1} + a_{n2} x_{2} + \cdots + a_{nn} x_{n} = b_{n}
\end{array}
\right.
$$
如果记$D=\begin{vmatrix} a_{11} & a_{12} & \cdots & a_{1n} \\ a_{21} & a_{22} & \cdots & a_{2n} \\ \vdots & \vdots & & \vdots \\ a_{n1} & a_{n2} & \cdots & a_{nn} \end{vmatrix}$，则上面的解可以写成：
$$x_{j}=\frac{D_{j}}{D}, \quad j=1,2, \cdots, n$$
其中$D_{j}$是将$D$的第$j$列换成$b_1, b_2, \cdots, b_n$后得到的行列式。

为了验证这个猜想，我们需要定义高阶行列式，并且进一步证明这个猜想。

## 递归法定义

先定义**余子式**与**代数余子式**：

> **定义**：设$A=\left(a_{i j}\right)_{n \times n}$是一个$n$阶方阵，$a_{i j}$是它的第$i$行第$j$列元素。去掉$A$的第$i$行和第$j$列后，剩下的$(n-1) \times(n-1)$矩阵记为$M_{i j}$，称为$a_{i j}$的**余子式**。记$A_{i j}=(-1)^{i+j} M_{i j}$，称为$a_{i j}$的**代数余子式**。

于是我们可以定义$n$阶行列式：
$$
D=\begin{vmatrix} a_{11} & a_{12} & \cdots & a_{1 n} \\ a_{21} & a_{22} & \cdots & a_{2 n} \\ \vdots & \vdots & & \vdots \\ a_{n 1} & a_{n 2} & \cdots & a_{n n} \end{vmatrix}
$$
当$n=1$时，定义$D=a_{11}$；当$n>1$时，定义
$$
D=a_{11} A_{11}+a_{12} A_{12}+\cdots+a_{1 n} A_{1 n}
$$
即按第一行展开。实际上，我们也可以按任意一行或一列展开，结果是一样的。

由定义可见，$D$是一个关于$a_{i j}$的多项式，每一项都是$n$个$a_{i j}$的乘积，并且每一项中没有重复的行和列，一共有$n!$项。

使用这个定义可以证明出行列式的所有性质，但证明较为繁琐。下介绍行列式的另一种定义法。

## 逆序数定义法

### 逆序数

设$\sigma$是$S_n$中的一个排列，记其逆序数为$\tau(\sigma)$，定义如下：
$$
\tau(\sigma)=\#\{(i,j)|1\leq i<j\leq n,\sigma(i)>\sigma(j)\}
$$
例如，对于排列$\sigma=(3,1,2)$，有$\tau(\sigma)=2$，因为$(3,1)$和$(3,2)$是逆序对。

### 奇排列与偶排列

如果$\tau(\sigma)$是偶数，则称$\sigma$为**偶排列**，否则称为**奇排列**。例如，$(1,2,3)$和$(3,1,2)$分别是偶排列和奇排列。

### 逆序数与对换

> **定理**：设$\sigma$是$S_n$中的一个排列，$\sigma'$是由$\sigma$交换两个位置得到的排列，则$\tau(\sigma)$与$\tau(\sigma')$的奇偶性不同。

**证明**：

1. 假设交换相邻的两个位置$i$和$i+1$，则$\sigma(i)$与$\sigma(i+1)$的大小关系发生了变化，$\sigma(i)$与其他元素构成的逆序对数量不变，因此$\tau(\sigma)$与$\tau(\sigma')$的奇偶性不同。
2. 假设交换不相邻的两个位置$i$和$j$，设$i$与$j$之间有$k$个位置，则可以通过交换相邻位置的方式将$i$和$j$交换位置，共需交换$2k+1$次，因此$\tau(\sigma)$与$\tau(\sigma')$的奇偶性不同。

### 行列式的定义
**定义**：设$A=\left(a_{i j}\right)_{n \times n}$是一个$n$阶方阵，$a_{i j}$是它的第$i$行第$j$列元素。定义$A$的行列式为：
$$
D=\begin{vmatrix} a_{11} & a_{12} & \cdots & a_{1 n} \\ a_{21} & a_{22} & \cdots & a_{2 n} \\ \vdots & \vdots & & \vdots \\ a_{n 1} & a_{n 2} & \cdots & a_{n n} \end{vmatrix}=\sum_{\sigma \in S_{n}}(-1)^{\tau(\sigma)} a_{1 \sigma(1)} a_{2 \sigma(2)} \cdots a_{n \sigma(n)}
$$
通常称这种形式为行列式的**完全展开式**

> 直观理解：行列式就是从每一行取一个元素，且不能取同一列的元素，将这些元素相乘后再加总，乘积前的符号由按自然顺序行排列后，列排列的逆序数决定。

### 推广：每项的符号由行列排列逆序数之和决定

> 现在，我们考虑一个更一般化的问题。如果我们不按行指标的自然顺序排列，而是任意打乱这些因子的顺序，会发生什么？

**证明**：从行列式中任取一项$(-1)^{\tau(\sigma_2)} a_{1 \sigma_2(1)} a_{2 \sigma_2(2)} \cdots a_{n \sigma_2(n)}$，将$a_{i \sigma_2(i)}$进行重新排序，变为$a_{\sigma_1(i)\sigma_2(\sigma_1(i))}$